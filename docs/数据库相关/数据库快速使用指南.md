# æ•°æ®åº“å¿«é€Ÿä½¿ç”¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åˆå§‹åŒ–æ•°æ®åº“

```bash
# å®Œæ•´åˆå§‹åŒ– (æ¨è)
node scripts/initDatabase-complete.js init

# åŸæœ‰è„šæœ¬åˆå§‹åŒ–
node scripts/initDatabase.js init
```

### 2. éªŒè¯æ•°æ®åº“

```bash
# éªŒè¯æ•°æ®åº“ç»“æ„
node scripts/initDatabase-complete.js verify
```

### 3. é‡ç½®æ•°æ®åº“ (è°¨æ…ä½¿ç”¨)

```bash
# é‡ç½®æ‰€æœ‰æ•°æ®
node scripts/initDatabase-complete.js reset

# ä»…æ¸…ç†æ•°æ®
node scripts/initDatabase-complete.js clean
```

## ğŸ“Š æ•°æ®åº“ç»“æ„æ¦‚è§ˆ

### æ ¸å¿ƒè¡¨ (5ä¸ª)
- `users` - ç”¨æˆ·ä¿¡æ¯
- `departments` - éƒ¨é—¨ç®¡ç†
- `user_tokens` - ç™»å½•å‡­è¯
- `verification_codes` - éªŒè¯ç 
- `system_configs` - ç³»ç»Ÿé…ç½®

### ä¸šåŠ¡è¡¨ (6ä¸ª)
- `menus` - èœå•ç®¡ç†
- `dining_orders` - æŠ¥é¤è®°å½•
- `special_reservations` - ç‰¹æ®Šé¢„çº¦
- `venues` - åœºåœ°ä¿¡æ¯
- `reservations` - åœºåœ°é¢„çº¦
- `dining_tables` - é¤æ¡Œç®¡ç†

### æ‰©å±•è¡¨ (4ä¸ª)
- `dining_verifications` - ç”¨é¤éªŒè¯
- `system_announcements` - ç³»ç»Ÿå…¬å‘Š
- `activity_logs` - æ“ä½œæ—¥å¿—
- `file_uploads` - æ–‡ä»¶ç®¡ç†

## ğŸ”§ è„šæœ¬å¯¹æ¯”

### æ–°ç‰ˆè„šæœ¬ (initDatabase-complete.js)
âœ… **æ¨èä½¿ç”¨**
- 15ä¸ªå®Œæ•´è¡¨ç»“æ„
- ä¸°å¯Œçš„ç¤ºä¾‹æ•°æ®
- å®Œå–„çš„ç´¢å¼•è®¾è®¡
- è¯¦ç»†çš„å­—æ®µæ³¨é‡Š
- æ•°æ®éªŒè¯åŠŸèƒ½
- æ”¯æŒé‡ç½®å’Œæ¸…ç†

### åŸç‰ˆè„šæœ¬ (initDatabase.js)
âš ï¸ **ä»…å…¼å®¹æ€§ä¿ç•™**
- åŸºç¡€è¡¨ç»“æ„
- ç®€å•ç¤ºä¾‹æ•°æ®
- åŸºæœ¬åŠŸèƒ½å®ç°

## ğŸ’¾ ç¤ºä¾‹æ•°æ®è¯´æ˜

### éƒ¨é—¨æ•°æ®
- æŠ€æœ¯éƒ¨ (TECH)
- äººäº‹éƒ¨ (HR)  
- è´¢åŠ¡éƒ¨ (FINANCE)

### åœºåœ°æ•°æ®
- ç¾½æ¯›çƒåœºA (BD001)
- ä¹’ä¹“çƒå°1å· (TT001)
- ç¯®çƒåœº (BB001)

### é¤æ¡Œæ•°æ®
- AåŒº01å·æ¡Œ (A001)
- AåŒº02å·æ¡Œ (A002)
- BåŒº01å·æ¡Œ (B001)

### ç³»ç»Ÿé…ç½®
- ç³»ç»Ÿåç§°
- æŠ¥é¤æå‰å¤©æ•°
- é¢„çº¦æœ€å¤§æ—¶é•¿
- äºŒç»´ç è¿‡æœŸæ—¶é—´

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥é…ç½®
   cat config/database.js
   # æ£€æŸ¥MySQLæœåŠ¡
   systemctl status mysql
   ```

2. **è¡¨å·²å­˜åœ¨é”™è¯¯**
   ```bash
   # é‡ç½®æ•°æ®åº“
   node scripts/initDatabase-complete.js reset
   ```

3. **å¤–é”®çº¦æŸé”™è¯¯** âœ… **å·²ä¿®å¤**
   ```bash
   # å¦‚æœé‡åˆ°å¾ªç¯ä¾èµ–é”™è¯¯ï¼Œç›´æ¥é‡æ–°åˆå§‹åŒ–å³å¯
   node scripts/initDatabase-complete.js reset
   # æˆ–è€…æ¸…ç†åé‡æ–°åˆå§‹åŒ–
   node scripts/initDatabase-complete.js clean
   node scripts/initDatabase-complete.js init
   ```
   
   **ä¿®å¤è¯´æ˜**: å·²è§£å†³ç”¨æˆ·è¡¨å’Œéƒ¨é—¨è¡¨ä¹‹é—´çš„å¾ªç¯ä¾èµ–é—®é¢˜ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†å¤–é”®çº¦æŸã€‚

4. **æƒé™ä¸è¶³**
   ```bash
   # ç¡®ä¿æ•°æ®åº“ç”¨æˆ·æœ‰CREATEæƒé™
   GRANT ALL PRIVILEGES ON *.* TO 'root'@'%';
   ```

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹æ“ä½œæ—¥å¿—
tail -f logs/combined.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—  
tail -f logs/error.log
```

## ğŸ“‹ ç»´æŠ¤å»ºè®®

### å®šæœŸç»´æŠ¤
- æ¸…ç†è¿‡æœŸToken (user_tokensè¡¨)
- æ¸…ç†è¿‡æœŸéªŒè¯ç  (verification_codesè¡¨)
- å½’æ¡£æ“ä½œæ—¥å¿— (activity_logsè¡¨)

### æ€§èƒ½ç›‘æ§
- ç›‘æ§æ…¢æŸ¥è¯¢
- æ£€æŸ¥ç´¢å¼•ä½¿ç”¨æƒ…å†µ
- åˆ†æè¡¨ç©ºé—´å ç”¨

### å¤‡ä»½ç­–ç•¥
- æ¯æ—¥è‡ªåŠ¨å¤‡ä»½
- é‡è¦æ“ä½œå‰æ‰‹åŠ¨å¤‡ä»½
- å®šæœŸéªŒè¯å¤‡ä»½å®Œæ•´æ€§

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **ç”Ÿäº§ç¯å¢ƒ**: ä½¿ç”¨`init`è€Œé`reset`
2. **æ•°æ®å®‰å…¨**: `reset`å’Œ`clean`ä¼šåˆ é™¤æ‰€æœ‰æ•°æ®
3. **å¤–é”®å…³ç³»**: åˆ é™¤æ•°æ®æ—¶æ³¨æ„å…³è”å…³ç³»
4. **ç´¢å¼•ä¼˜åŒ–**: å¤§é‡æ•°æ®æ—¶è€ƒè™‘ç´¢å¼•è°ƒä¼˜
5. **å­—ç¬¦é›†**: ç»Ÿä¸€ä½¿ç”¨utf8mb4ç¼–ç 

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- `æ•°æ®åº“ç»“æ„è¯´æ˜.md` - è¯¦ç»†ç»“æ„æ–‡æ¡£
- `scripts/database-design.md` - è®¾è®¡æ€è·¯
- é¡¹ç›®æ—¥å¿—æ–‡ä»¶ - é”™è¯¯ä¿¡æ¯

---

**å¿«é€Ÿå‚è€ƒ**: æ—¥å¸¸ä½¿ç”¨`init`åˆå§‹åŒ–ï¼Œé—®é¢˜æ’æŸ¥ç”¨`verify`éªŒè¯ï¼Œç´§æ€¥æƒ…å†µç”¨`reset`é‡ç½®ã€‚
